schema_version: "1.0"

pr:
  number: 51032
  title: "Markdown LaTeX doc enhancments"
  url: "https://github.com/JuliaLang/julia/pull/51032"
  author: "alecloudenback"
  labels:
    - "markdown"
  merged_at: "2026-01-05T10:19:37Z"
  merge_commit_sha: "c1465183ec74f883744145550ba55eac2240a4bd"
  diff_url: "https://github.com/JuliaLang/julia/pull/51032.diff"

scope:
  files_touched:
    - "stdlib/Markdown/docs/src/index.md"
  components:
    - "Documentation"
  pipeline_stages: []

analysis:
  intent:
    summary: |
      Documentation-only PR that enhances the Markdown stdlib documentation for LaTeX usage.
      Two main improvements:
      1. Cross-references between inline LaTeX section and Display equations section
      2. Documents the deprecated $/$$ syntax for LaTeX with warnings about string interpolation issues
    issue_links: []

  direct_changes:
    - summary: "Minor formatting fix to LaTeX syntax description (comma to colon, period repositioned)"
      component: "Documentation"
      evidence:
        - source: "diff"
          path: "stdlib/Markdown/docs/src/index.md"
          loc: "54-55"
          url: "https://github.com/JuliaLang/julia/blob/c1465183ec74f883744145550ba55eac2240a4bd/stdlib/Markdown/docs/src/index.md#L54-L55"
          snippet: |
            # Before:
            # Surround text that should be displayed as mathematics using ``\LaTeX`` syntax with double backticks,
            # ``` `` ``` .
            # After:
            Surround text that should be displayed as mathematics using ``\LaTeX`` syntax with double backticks:
            ``` `` ```.

    - summary: "Add cross-reference from inline LaTeX section to Display equations section"
      component: "Documentation"
      evidence:
        - source: "diff"
          path: "stdlib/Markdown/docs/src/index.md"
          loc: "60"
          url: "https://github.com/JuliaLang/julia/blob/c1465183ec74f883744145550ba55eac2240a4bd/stdlib/Markdown/docs/src/index.md#L60"
          snippet: |
            See the [Display equations](@ref) section for non-inline LaTeX.

    - summary: "Add note warning about deprecated $ syntax for inline LaTeX"
      component: "Documentation"
      evidence:
        - source: "diff"
          path: "stdlib/Markdown/docs/src/index.md"
          loc: "73-79"
          url: "https://github.com/JuliaLang/julia/blob/c1465183ec74f883744145550ba55eac2240a4bd/stdlib/Markdown/docs/src/index.md#L73-L79"
          snippet: |
            !!! note
                Inline ``\LaTeX`` may also be created within a set of single of `$` characters. However
                this is not recommend as `$` is also used for string interpolation. Thus using it can
                easily lead to unintended results. For example, inside an `md` string the parser will
                interpret an unmatched `$` as string interpolation, leading to unexpected errors or
                worse, undesired behavior, when a variable is unexpectedly interpolated into a string.
                In contrast, an unmatched ``` `` ``` results in a helpful error message.

    - summary: "Document deprecated $$ syntax for display equations"
      component: "Documentation"
      evidence:
        - source: "diff"
          path: "stdlib/Markdown/docs/src/index.md"
          loc: "301-307"
          url: "https://github.com/JuliaLang/julia/blob/c1465183ec74f883744145550ba55eac2240a4bd/stdlib/Markdown/docs/src/index.md#L301-L307"
          snippet: |
            Note that the `\$\$` version is available but deprecated:

            ```julia
            raw"$$H = - \sum p(x) \log p(x)$$"
            ```

            See the [Inline elements](@ref) for inline ``\LaTeX`` and a note about the status of the dollar-sign (`\$`) deprecated form.

  secondary_effects: []

  compatibility:
    internal_api: []
    behavioral: []

  performance:
    compile_time: []
    runtime: []

  risk:
    level: "low"
    rationale:
      - "Documentation-only change with no code modifications"
      - "No impact on compiler behavior, runtime, or any APIs"
      - "Only affects how users learn about LaTeX syntax in Markdown"

  open_questions: []

  recommendations:
    - "No action required for downstream packages"
    - "This PR has zero impact on compiler internals or package behavior"

changelog_entry:
  category: "Documentation"
  breaking: false
  summary: "Enhanced Markdown stdlib documentation for LaTeX syntax with cross-references and deprecation notes for $ syntax"
  downstream_impact: "None - documentation only"

downstream_package_impact:
  Turing_jl: "none"
  Enzyme_jl: "none"
  GPUCompiler: "none"
  JET: "none"

reviewer_notes:
  reviewer: "independent_analysis"
  date: "2026-01-21"
  verification_method: |
    Verified this is documentation-only by examining the PR diff from pr_51032.json.
    Searched for LaTeX handling in Julia Markdown source code (stdlib/Markdown/src/).
    Confirmed no .jl files were modified - only stdlib/Markdown/docs/src/index.md.
  findings:
    - "Original analysis was accurate - this is purely a documentation change"
    - "Added one missing direct change: minor formatting fix (comma to colon, period repositioned)"
    - "Corrected line number references based on actual diff patch"
    - "Verified no impact on Markdown parsing or rendering code"
  pr_body_context: |
    From original PR description by alecloudenback:
    "Two changes:
    1. Cross reference the two separate LaTeX sections.
    2. Note the $ and $$ ways of creating LaTeX formatting."
  confidence: "high"
  rationale: "Documentation-only changes are deterministic - file list and diff confirm no code was modified"
